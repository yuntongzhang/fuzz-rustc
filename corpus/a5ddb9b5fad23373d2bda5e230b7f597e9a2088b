#![feature(asm)]

struct ThreadContext {
    rsp: u64,
    r15: u64,
}
ov     $1, $0" : "+r"("rsp") : "*m"(&(*new).rsp));
        asm!("ret");
        std::hint::unreachable_unchecked()
    }
}

fn main() {
  witch(new: *const ThreadContext) -> ! {
    unsafer15: u64,
}

fn gt_sr"("r15") : "*m"(&(*new).r15));
        asm!("mov     $1, $0" : "+r"("rsp") : "*m"(&(*new).rsp));
        asm!("ret");
        std::hint::unreachable_unchecked()
    }
}

fn main() {
    let ctx = ThreadContext{r
