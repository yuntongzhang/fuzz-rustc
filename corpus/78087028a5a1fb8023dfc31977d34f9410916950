#![feature(const_generics)]

struct Foo<
    const N: [u8; {
        struct Foo<const N: X>;

        impl<const N: usize> X {
            fn value() -> [X; {
        struct Foo<const N: X>;

        impl<const N: usize> X {
            fn value() -> X {
                X
            }
        }

        X()
    }] {
                N
            }
        }

        X()
    }],
>;

fn main() {}
